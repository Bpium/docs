# Для Bpium S3

## Настройка конфигурационного файла (config.env)

Сервер локального хранилища Bpium S3 также использует переменные окружения для хранения настроек. Если переменные окружения не заданы, то Bpium S3 считывает их из файла `config.env`, который находится в папке приложения Bpium S3.

### **Параметры файлового сервера, совпадающие с параметрами приложением Bpium**

Если вы устанавливаете сервисы на один компьютер в общую папку. то можете использовать единый конфигурационный файл. Часть параметров у сервисов совпадают.

{% hint style="warning" %}
Любую переменную окружения можно передать с префиксом BPIUM\_ или без префикса. Если указаны оба, то приоритет за тем что с префиксом. Примеры:

Без префикса:

```
PARAMETER_NAME_STRING=string_value
```

С префиксом:

```
BPIUM_PARAMETER_NAME_STRING=string_value
```
{% endhint %}

|                                 |          |                                                                                                                                                                                                                                                          |
| ------------------------------- | -------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **`S3_HOST`**`(обязательный)`   | `string` | <p>Публичный (локальный) адрес хранилища, доступный с компьютеров сотрудников (<code>localhost</code> не допустим).</p><p>Пример: <code>files.company.ru</code> или <code>211.129.48.11</code></p><p>Для Amazon можно не указывать, формируется сам.</p> |
| `S3_PORT`                       | `int`    | <p>Порт локального хранилища. По умолчанию: <code>2020</code><br>Для Amazon можно не указывать, формируется сам.</p>                                                                                                                                     |
| `S3_REGION`                     | `string` | <p>Регион дата-центра Amazon.<br>Не используется для локального хранилища.</p>                                                                                                                                                                           |
| `S3_BUCKET`                     | `string` | Идентификатор хранилища. По умолчанию: `storage`                                                                                                                                                                                                         |
| **`S3_KEY`**`(обязательный)`    | `string` | <p>Публичный ключ доступа.</p><p>Для Amazon предоставляется Amazon.</p><p>Для локального хранилища — придумайте строку.</p>                                                                                                                              |
| **`S3_SECRET`**`(обязательный)` | `string` | <p>Секретный код доступа.</p><p>Для Amazon предоставляется Amazon.</p><p>Для локального хранилища — придумайте строку.</p>                                                                                                                               |
| `S3_HTTPS`                      | `bool`   | <p>Использовать SSL-сертификаты и протокол HTTPS.<br>Значения: true/false. По умолчанию: <code>false</code>. </p>                                                                                                                                        |

### **Уникальные параметры файлового сервера**

|                             |          |                                                                                     |
| --------------------------- | -------- | ----------------------------------------------------------------------------------- |
| `S3_HTTPS_CERTIFICATE_PATH` | `string` | Путь к файлу сертификата (crt).                                                     |
| `S3_HTTPS_KEY_PATH`         | `string` | Путь к файлу с ключом сертификата (key).                                            |
| `S3_DATA_PATH`              | `string` | Путь к папке для хранения файлов локального хранилища. По умолчанию: текущая папка. |

Bpium и Bpium S3 могут использовать общий файл, если стартуют из одной папки. Сервер локального хранилища Bpium S3 может быть запущен и в другой папке или на другом сервере. В этом случае ему необходим отдельный конфигурационный файл с необходимыми для запуска и работы переменными. Конфигурационный файл размещается в папке приложения Bpium S3.
