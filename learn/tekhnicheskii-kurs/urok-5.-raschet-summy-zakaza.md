# Урок 5. Расчет суммы заказа

Переходим на новый уровень: тот же самый расчет, но уже сложнее. Разберем как настроить вычисление общей суммы для всей корзины.

{% embed url="https://vimeo.com/1024646812" %}

## Кейс

Система автоматически рассчитывает общую сумму заказа при заполнении заявки необходимыми данными по товарам.\


## Навыки

В этом уроке будут рассмотрены следующие **компетенции** и их навыки:

* **Принципы Бипиума:** понимание принципа отладки автоматизаций
* **События:** изменение во время редактирования
* **Компоненты:** код
* **Javascript:** Lodash, Moment
* **Отладка:** компилятор кода

***

## В этом уроке

#### **Демонстрация: Описание кейса (0:14)**

Система автоматически рассчитывает общую сумму заказа при заполнении заявки необходимыми данными по товарам.

#### **Демонстрация: Создание события (1:05)**

1. В отделе «Управление» в каталоге «События» добавьте новую запись (событие, по которому будет запускаться процесс).
2. Укажите название. Например, ту задачу, которую выполняет процесс.
3. Выберите каталог, в котором хотите отслеживать изменение записей.
4. Выберите тип события для запуска сценария.&#x20;
5. В поле «Выполнить» выберите или создайте новый сценарий.

#### **Демонстрация: Создание сценария (1:54)**

1. В отделе «Управление» в каталоге «Сценарии» добавьте новую запись.
2. Укажите название сценария и нажмите «создать» в поле «Сценарий».
3. Нарисуйте сценарий: из панели компонентов выберите требуемые и расположите их в необходимой последовательности, задайте их свойства.

Компоненты:

* &#x20;**Код** — используется для исполнения кода на языке JavaScript. Компонент имеет выход по таймауту. Таймаут 5 секунд.

***

## Домашнее задание

Для расширения знаний и подготовки к следующим урока изучите материалы:

* Описание компонента "Получить запись"\
  [https://docs.bpium.ru/processes/scripts/components/getrecord](https://bpium.ru/learn-scripts/lesson-5)
* Библиотека Lodash\
  ‍[https://lodash.com](https://lodash.com/)
* Библиотека Moment\
  ‍[https://momentjs.com](https://momentjs.com/)
