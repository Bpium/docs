# Компании

## Введение

Системный каталог **Компании** — это один из ключевых каталогов Бипиум, который обеспечивает мультитенантную архитектуру системы. Каждая компания в Бипиум представляет собой отдельное рабочее пространство со своей базой данных, настройками и пользователями.

Каталог **Компании** доступен администраторам серверной версии Бипиум и позволяет управлять всеми компаниями, зарегистрированными в системе.

## Назначение каталога

Каталог **Компании** используется для:

* **Изоляции данных**: каждая компания имеет свою отдельную базу данных, что обеспечивает полную изоляцию информации между разными компаниями
* **Мультидоменной поддержки**: компании могут работать на разных поддоменах или собственных доменах
* **Управления версиями**: контроль версий системы для каждой компании или группы компаний
* **Группировки компаний**: объединение компаний в группы для массовых операций и управления версиями
* **Брендирования**: настройка внешнего вида интерфейса для каждой компании (логотип, фавиконка, фон)

## Доступ к каталогу

Каталог **Компании** находится в разделе **Системные каталоги** и доступен только администраторам сервера Бипиум.

**Как открыть каталог:**

1. Войдите в систему с правами администратора
2. Перейдите в раздел **Системные каталоги** (в главном меню)
3. Выберите каталог **Компании**

## Поля каталога

### Основные поля

| Поле                  | Тип   | Описание                                                                                                                                                                                 |
| --------------------- | ----- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Название компании** | Текст | Отображаемое имя компании, используется в интерфейсе                                                                                                                                     |
| **База данных**       | Текст | Строка подключения к базе данных (заполняется автоматически)                                                                                                                             |
| **Поддомен**          | Текст | Поддомен для доступа к компании (например, `mycompany`). В облачном режиме формируется адрес `поддомен.основной-домен` (например, `mycompany.bpium.ru`). Поддомен должен быть уникальным |
| **Домен**             | Текст | Собственный домен компании (опционально, например, `app.mycompany.com`). Имеет приоритет над поддоменом при определении компании                                                         |
| **Создатель**         | Число | ID аккаунта пользователя, создавшего компанию                                                                                                                                            |

### Управление версиями

| Поле               | Тип   | Описание                                                                                                                                                                                                                                              |
| ------------------ | ----- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Группа**         | Связь | Связь с каталогом "Группы компаний" для управления версиями. Версия для обновления берется из группы. Подробнее см. в документации по каталогу Группы компаний                                                                                        |
| **Текущая версия** | Связь | Текущая версия системы компании (только для чтения). Это поле отражает фактическую версию после обновления и обновляется автоматически. Изменение этого поля напрямую **не запускает обновление** — для обновления версии используйте группы компаний |

### Статус и метаданные

| Поле                     | Тип    | Описание                                                 |
| ------------------------ | ------ | -------------------------------------------------------- |
| **Статус**               | Список | Статус компании: "Готов" или "Обновляется"               |
| **Телефон**              | Текст  | Контактный телефон компании                              |
| **Дата создания**        | Дата   | Дата и время создания записи (заполняется автоматически) |
| **Количество записей**   | Число  | Общее количество записей во всех каталогах компании      |
| **Последняя активность** | Дата   | Дата и время последней активности пользователей          |
| **Серийный номер**       | Текст  | Серийный номер лицензии компании                         |

### Брендирование (White Label)

> **Подробнее:** [Документация по настройке брендирования](https://docs.bpium.ru/installation/whitelabel)

| Поле               | Тип  | Описание                                                        |
| ------------------ | ---- | --------------------------------------------------------------- |
| **Логотип**        | Файл | Логотип компании (PNG, рекомендуется 200x60px)                  |
| **Фавиконка**      | Файл | Иконка сайта (PNG/ICO, 64x64px)                                 |
| **Фон приложения** | Файл | Фоновое изображение интерфейса (JPG, рекомендуется 1920x1080px) |

## Практические сценарии

### Работа с доменами

#### Поддомены

В облачном режиме (multitenancy) каждая компания получает поддомен, который формирует адрес доступа к компании:

* Формат: `поддомен.основной-домен` (например, `mycompany.bpium.ru`)
* Поддомен должен быть уникальным для каждой компании
* Устанавливается при создании компании и обычно не изменяется

#### Собственные домены

Компания может использовать собственный домен вместо поддомена. Это позволяет использовать свой бренд в адресе (например, `app.mycompany.com`).

**Как настроить собственный домен:**

1. **Настройка DNS:**
   * Настройте DNS-запись типа A или CNAME, указывающую на IP-адрес сервера Бипиум
   * Обратитесь к администратору вашего домена или хостинг-провайдеру
2. **Настройка в Бипиум:**
   * Откройте запись компании в каталоге **Компании**
   * В поле **Домен** укажите полное доменное имя (например, `app.mycompany.com`)
   * Сохраните изменения
3. **Настройка веб-сервера:**
   * Настройте веб-сервер (nginx/Apache) для обработки запросов к вашему домену
   * Настройте SSL-сертификат для домена
   * Подробности см. в документации по развертыванию Бипиум

> **Примечание:** В enterprise-режиме (однотенантный) все компании работают через один домен. Подробные инструкции по настройке собственных доменов см. в документации по развертыванию Бипиум.

## Лицензирование и режимы работы

Компании связаны с системой лицензирования Бипиум:

* Лицензия определяет доступные модули и функции для компании
* Ограничения лицензии применяются на уровне компании
* Каждая компания может иметь свою конфигурацию лицензии

**Режимы работы:**

* **С лицензией**: полный доступ ко всем функциям и модулям, определенным лицензией
* **Без лицензии (песочница)**: доступна только базовая функциональность, автоматизации недоступны

Серийный номер лицензии хранится в поле **Серийный номер** записи компании (если используется лицензионная версия).

## Статусы компании

Компания может находиться в следующих статусах:

| Статус          | Описание                                                                                         |
| --------------- | ------------------------------------------------------------------------------------------------ |
| **Готов**       | Компания работает нормально, все операции выполняются                                            |
| **Обновляется** | Компания находится в процессе обновления базы данных, временно недоступна для некоторых операций |

Статус **Обновляется** устанавливается автоматически системой при выполнении обновления базы данных компании. После завершения обновления статус автоматически меняется на **Готов**.

> **Важно:** Во время обновления пользователи могут испытывать задержки или временную недоступность системы. Обновление обычно занимает от нескольких секунд до нескольких минут в зависимости от объема данных.

## Поддержка

Если у вас возникли вопросы или проблемы при работе с каталогом Компании, обратитесь к технической поддержке Бипиум [support@bpium.ru](mailto:support@bpium.ru), предоставив:

* Версию Бипиум
* Описание проблемы или вопроса
* ID компании (если применимо)
* Скриншоты (если применимо)

## Дополнительные ресурсы

* Документация по настройке доменов
* Документация по брендированию
* Документация по каталогу Аккаунты
* Документация по каталогу Группы компаний
