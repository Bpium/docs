---
description: Используется для отправки сообщений в запись.
---

# Отправить сообщение

## Компонента отправки сообщений

### Свойства

#### Секция “Написать сообщение к записи”

**Указать каталог**

Способ выбора каталога для изменения записи. Доступные варианты:

* Из списка
* через переменную

Вариант «из списка» подойдет, когда вы знаете в какой каталог вы хотите отправить сообщение. Вариант «через переменную» используется, если нужно отправить сообщение в запись в разных каталогах в зависимости от логики в сценарии.

**Каталог**\
Свойство доступно при выбранном значении `Указать каталог = Из списка`. Выбор каталога из числа доступных в системе для отправки сообщения. Формат: выбор из списка каталогов.

**ID каталога** Свойство доступно при выбранном значении `Указать каталог = Через переменную`. Идентификатор (ID) каталога, из которого нужно получить запись. Формат: значение/выражение.

**ID записи**\
Идентификатор записи, в которую нужно отправить сообщение. Формат: значение/выражение.

#### Секция “Сообщение”

**Текст**

Текст сообщения для отправки в запись. \
Формат: \
&#x20;          "значение в кавычках" или выражение.

Также в тексте в любой позиции можно использовать дополнительную конструкцию для того, чтобы упомянуть пользователя или любой другой объект системы. \
Формат:\
&#x20;         <@catalogId:recordId;Title/@>\
Пример:\
&#x20;          <@$users:7;Anton/@> \
где:  \
$users - это системное название каталога Сотрудники. Вместо него можно использовать 3\
7 - это id сотрудника из каталога Сотрудники\
Anton - это то каким именно наименованием упомянуть сотрудника.

**Вложения**

Вложения к сообщению. Бипиум поддерживает прикрепление файлов, размещенных где-либо в интернете. Например файлов прикрепленных к записям в каталогах и хранящимся в облачном хранилище. Вложений может быть несколько.&#x20;

Формат:

```
[
    {
        title: 'Название файла с расширением',
        url: 'URL к файлу'
    }
]
```

Пример:

```
[
    {
        title: 'Договор.docx',
        url: 'http://storage.ru/dogovor.docx'
    },
    {
        title: 'Счет.xls',
        url: 'http://storage.ru/dogovor.docx'
    },
    ...
]
```

#### **Упомянуть**&#x20;

Свойство необходимое для упоминание пользователя в системе. Для пользователя или пользователей которые упоминаются, будет выведен кружок красного цвета в разрезе секции/каталога/записи, для того чтобы сразу обратить внимание на сообщение.&#x20;

Формат:

```
[
    { 
        catalogId: “$users”, 
        recordId: id-пользователя
    }
]
```

Пример:&#x20;

```
[
    { 
        catalogId: “$users”, 
        recordId: '1'
    },
    { 
        catalogId: “$users”, 
        recordId: '5'
    },
    ...
]
```

#### Автор&#x20;

Тут указывается id сотрудника из каталога сотрудников от имени которого отправляется сообщение.

Если не будет выбран сотрудник, то как автор сообщения автоматически будет выбрана “система”.

#### Ответом на&#x20;

В этом свойстве нужно указать id сообщения, на которое нужно ответить.
