# Записи

Отделы содержат каталоги, каталоги состоят из записей. Записи — это данные.

Если кликнуть на строку в таблице каталога, откроется карточка записи. Карточка записи состоит из анкеты, связанных данных и истории изменений. Каждая запись имеет права доступа.

## Название записи

Значение первого текстового поля в анкете считается названием записи. Если в анкете нет текстовых полей или значение первого поля пустое, то название формируется из порядкового номера записи (Пример: #9578).

## Анкета

Анкета — это форма, созданная на основе структуры каталога.

<figure><img src=".gitbook/assets/8. Анкета.jpg" alt=""><figcaption></figcaption></figure>

Обязательные для заполнения поля помечены звездочкой (

![](.gitbook/assets/required\_mark.jpg)

). Другие поля могут быть пустыми.

Изменения сохраняются при сохранении всей анкеты. При этом будут сохранены только изменённые поля. Это минимизирует вероятность перезатирания данных при одновременной работе нескольких сотрудников с одними записями.

## Связанные данные

Связанные данные — список записей других каталогов, которые связаны с выбранной записью. Записи разбиты по каталогам.

Связанные данные показаны в виде номера, названия и даты создания. Отсортированы по дате создания. Клик по записи откроет её карточку в всплывающем окне. Также можно сразу создать новую связанную запись.

<figure><img src=".gitbook/assets/8. Связи.jpg" alt=""><figcaption></figcaption></figure>

## История изменений

Все изменения полей в записи сохраняются.

<figure><img src=".gitbook/assets/8. История.jpg" alt=""><figcaption></figcaption></figure>

Список изменений показан в виде ленты событий в вкладке «История». Изменения отсортированы по дате: недавние — снизу, старые — сверху. События показывают, какие поля были изменены, прежние и новые значения. Прежние значения зачёркнуты или показаны в виде изменения: Было → Стало. В правой колонке показан автор изменений и дата.

### Комментарии

Сотрудники могут оставлять комментарии к изменениям. Комментарии входят в общую ленту изменений и выделены фоном и цветом текста.

## Операции с записями

### Клонирование записи

При клонировании, создается новая (не сохраненная) запись, поля заполняются из записи, которую клонировали.

### Удаление записи

При удалении записи она удаляется из каталога, но остается в качестве выбранных значений в полях других каталогов. Например, если удалить клиента, то в заказах этого клиента можно будет увидеть его название, однако оно будет перечеркнутым. Открыть такую перечеркнутую запись из связанного каталога нельзя, при необходимости возможно лишь вручную удалить оставшуюся связь или выбрать на ее место другую неудаленную запись.

Удаленные записи восстановить нельзя.

## Массовое изменение записей

Пользователю доступно массовое редактирование записей по определенным фильтрам. Лайв-сценарии работать не будут.

### Как пользоваться

{% embed url="https://youtu.be/GKLHkUsQPzI" %}

### Пошаговая инструкция

<figure><img src=".gitbook/assets/массовое редактирование 1 (1).png" alt=""><figcaption></figcaption></figure>

Находясь в каталоге вы можете определить записи, которые нужно массово изменить.

<figure><img src=".gitbook/assets/массовое редактирование 2.png" alt=""><figcaption></figcaption></figure>

<figure><img src=".gitbook/assets/массовое редактирование 3.png" alt=""><figcaption></figcaption></figure>

Затем, переходя к окну массового редактирования, вы можете определить фильтры по записям. Индикатор количества записей находится число в верхнем левом углу.

<figure><img src=".gitbook/assets/массовое редактирование 4.png" alt=""><figcaption></figcaption></figure>

Следующим шагом является выбор полей, необходимых к редактированию. Индикатор количества выбранных полей находится в верхнем правом углу.

<figure><img src=".gitbook/assets/массовое редактирование 5.png" alt=""><figcaption></figcaption></figure>

После выбора полей, вам предоставляется выбор значений данных полей. Есть правило, если пользователь не выбрал значения для поля, то для всех записей будет установлено пустое значение (т.е. происходит перезапись).

<figure><img src=".gitbook/assets/массовое редактирование 6.png" alt=""><figcaption></figcaption></figure>

После установки всех значений пользователю нужно будет нажать на кнопку начала массового редактирования.

<figure><img src=".gitbook/assets/массовое редактирование 7.png" alt=""><figcaption></figcaption></figure>

Массовое редактирование сопровождается индикатором. Он отражает текущее количество измененных записей.

<figure><img src=".gitbook/assets/массовое редактирование 8.png" alt=""><figcaption></figcaption></figure>

Массовое редактирование всегда можно приостановить, но при этом, после начала массового редактирования нельзя изменить его параметры.

<figure><img src=".gitbook/assets/массовое редактирование 9.png" alt=""><figcaption></figcaption></figure>

Знаком окончания массового редактирования будет полностью заполненный индикатор.

<figure><img src=".gitbook/assets/массовое редактирование 10.png" alt=""><figcaption></figcaption></figure>

Ошибки, возникшие при массовом редактировании можно отследить, при помощи таблицы, которая отображается при возникновения ошибок.

## Мультимодальные окна

Появилась возможность хранить историю открытых ранее окон в древовидной структуре, где наглядно показано что и откуда было открыто.

{% embed url="https://youtu.be/uI3sMB9DR0E" %}
