# MailChimp

Почтовый сервис позволяющий делать автоматическую рассылку.

Сайт: [https://mailchimp.com](https://mailchimp.com/).

## Возможности

* Формировать списки для рассылки
* Редактировать списки
* Отправлять письма

Полный список доступных методов: [http://developer.mailchimp.com/documentation/mailchimp/reference/overview](http://developer.mailchimp.com/documentation/mailchimp/reference/overview).

## Пример интеграции

### Добавление нового клиента в список для рассылки

При добавлении нового клиента в Бипиум, сценарий будет добавлять его в список для рассылки в MailChimp:

1. **Создаем сценарий.** В каталоге «Управление / Сценарии» добавляем новую запись. Указываем название сценария «Добавление в рассылку для новых клиентов» и нажимаем «создать» в поле «Сценарий».
2. **Настраиваем сценарий.** В всплывающем окне сценария находятся два компонента «Старт» и «Стоп». Добавляем между ними блок «Веб-запрос», так чтобы связывающие линии проходили через него.
3.  **Настраиваем «Веб-запрос».** Чтобы настроить компонент, кликните на него. Указываем следующие параметры: Метод: `POST`

    Адрес (URL):&#x20;

    [https://usНОМЕР\_СЕРВЕРА.api.mailchimp.com/3.0/lists/ИДЕНТИФИКАТОР\_СПИСКА/members](https://mailchimp.com) ​\
    &#x20;Идентификатор списка можете найти в настройка необходимого списка.

    Авторизация.

    Перед началом настройки необходимо получить API key вашего аккаунта в [https://usНОМЕР\_СЕРВЕРА.api.ВАШ\_ЛОГИН.mailchimp.com/account/api/](https://mailchimp.com)

    **Формат запроса:** Тело запроса

    **Запрос:** {email\_address:АДРЕС, status:"subscribed"}

    **Авторизация:** Базовая авторизация

    **Логин:** Kюбое слово

    **Пароль:** API key

    **Ожидать ответа:** Рекомендуем включить ожидание ответа\
    **Код** **HTTP** **ответа в:** Переменная, куда сохранить код ответа, если ожидание включено.\
    **Ответ (body) в:** Переменная, куда сохранить тело ответа, если ожидание включено.

    В случае успеха вы получите код 200.

    &#x20;

    <img src="../../../../.gitbook/assets/Без имени.png" alt="" data-size="original">
4. **Создаем событие.** В каталоге «Управление / События» добавляем новую запись (событие), по которому будет запускаться наш сценарий. Указываем название «Добавление в рассылку на MailChimp». Выбираем каталог в котором мы хотим отслеживать создание новых клиентов. Выбираем событие «Уведомление о создании записи». В поле «Выполнить» выбираем наш сценарий.
