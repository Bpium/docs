---
description: Интеграция платформы Bpium c «Единой информационной системой в сфере закупок»
---

# Интеграция c «Единой информационной системой в сфере закупок»

## 1. Введение

**«Единая информационная система в сфере закупок» (далее «Госзакупки»)** — это сервис, который позволяет получать данные о тендере (заказчик, объекты торгов, сумма, документы, дедлайны) и сохранять полученные данные в системе Бипиум.

## 2. Принцип работы

![](<../../../.gitbook/assets/0 (1).jpeg>)

При заполнении поля **«Номер»** в карточке тендера в каталоге **«Торги»** запускается **«Сценарий обработки данных по тендеру».** Далее сценарий делает запрос данных к сервису госзакупок**,** получив ответ от сервиса **«Сценарий обработки данных по тендеру»** заполняет карточку тендера данными с площадки.

## 3. Реализация

### 3.1. Настройка структуры данных

#### 3.1.1. Создание и настройка каталога «Торги»

Создайте каталог **«Торги»**. Данный каталог является «хранилищем» тендеров, именно здесь они будут храниться. При создании каталога нужно добавить и настроить поля следующим образом:

![](<../../../.gitbook/assets/1 (5) (1) (1).png>)

* **Статус** (статус).\
  _Описание:_ Данное поле отображает статус тендера на данный момент.\
  _Настройка поля:_ Указываем следующие статусы: ОЖИДАНИЕ, ПРОИГРАН, ОТМЕНЕН, ПОДАЧА, ВЫИГРАН, ОТКЛОНЕНИЕ, ОТКАЗ, НЕ СОСТОЯЛСЯ. Ставим галочки напротив «По умолчанию: первый элемент».\
  _Примечания:_ Добавлять статусы нужно в вышеописанном порядке, не нарушая последовательность их API ID.
* **Площадка** (связанный каталог).\
  _Описание:_ Данный каталог является «справочником» в котором содержаться все площадки торгов.
* **Номер** (текст).\
  _Описание:_ Значение для данного поля берется из тендера.
* **Ссылка на тендер** (контакт).\
  _Описание:_ Значение данного поля является ссылка на тендер на сайте госзакупок.
* **Заказчик** (связанный каталог).\
  _Описание:_ Данный каталог является «справочником» в котором содержаться все заказчики фигурирующие в тендерах.

![](<../../../.gitbook/assets/2 (3) (1).png>)

* **Начальная цена** (число).\
  _Описание:_ Значение для данного поля берется из тендера.
* **Конечная цена** (число).\
  _Описание:_ Значение для данного поля берется из тендера.
* **Ответственный** (сотрудник).\
  _Описание:_ В данное поле назначается сотрудник создавший тендер.
* **ФЗ** (выбор значения).\
  _Описание:_ В данном поле указывается Федеральный закон из тендера.
* **Дата окончания подачи заявки / предложения** (дата).\
  _Описание:_ Значение для данного поля берется из тендера_._
* **Процедура** (выбор значения).\
  _Описание:_ Значение для данного поля берется из тендера_._
* **Дата проведения процедуры / подведения итогов** (дата).\
  _Описание:_ Значение для данного поля берется из тендера_._
* **Документы** (файл).\
  _Описание:_ Документы для данного поля берутся из тендера.

![](<../../../.gitbook/assets/3 (1) (2) (1).png>)

* **Адрес** (текст).\
  _Описание:_ Значение для данного поля берутся из тендера.
* **Создано** (дата).\
  _Описание:_ Автоматически проставляется сегодняшняя дата.
* **Создал** (сотрудник).\
  _Описание:_ В данное поле назначается сотрудник создавший тендер.

#### 3.1.2. Создание и настройка каталога «Контактные лица»

Создайте каталог **«Контактные лица»**. Данный каталог предназначен для хранения информации о контактных лицах заказчика по тендеру. При создании каталога нужно добавить и настроить поля следующим образом:

![](<../../../.gitbook/assets/4 (2) (2).png>)

* **ФИО** (текст).\
  _Описание:_ Формируется из данных с тендера.
* **Телефон** (контакт).\
  _Описание:_ Значение для данного поля берутся из тендера.
* **Эл. адрес** (контакт).\
  _Описание:_ Значение для данного поля берутся из тендера.

#### 3.1.3. Создание и настройка каталога «Заказчики»

Создайте каталог **«Заказчики»**. Данный каталог предназначен для хранения данных о заказчике по тендеру. При создании каталога нужно добавить и настроить поля следующим образом:

![](<../../../.gitbook/assets/5 (2) (1).png>)

* **Краткое наименование** (текст).\
  _Описание:_ Заполняется руками.
* **Полное наименование** (текст).\
  _Описание:_ Значение для данного поля берутся из тендера.
* **ИНН** (текст).\
  _Описание:_ Значение для данного поля берутся из тендера.
* **Основной контакт** (связанный каталог).\
  _Описание:_ Значение для данного поля берутся из тендера.

![](<../../../.gitbook/assets/6 (1) (1) (1).png>)

* **Другие контакты**  (связанный каталог).\
  _Описание:_ Заполняется руками.
* **Создано** (дата).\
  _Описание:_ Проставляется текущая дата.
* **Создал** (сотрудник).\
  _Описание:_ Проставляется сотрудник создавший.

### 3.2. Настройка автоматизации

#### 3.2.1. Создание и настройка события

Для создания события нужно зайти в каталог **«События»** (обычно он находится в отделе Управление). Нажать кнопку Добавить и заполнить карточку события как указано на скриншоте ниже.

Карточка события выглядит следующим образом:

![](<../../../.gitbook/assets/7 (7).png>)

#### 3.2.2. Создание и настройка сценария

Создайте сценарий в каталоге **«Сценарии»**.&#x20;

* Название: укажите название сценария, например: Автозаполнение тендера по данным с площадки.
* Сценарий: скачайте [файл](https://drive.google.com/file/d/1Y04hqqeJmiL8iHOZo58sMG8ZIyDRFmvC/view?usp=sharing) сценария и загрузите его в поле.

Данный сценарий предназначен для заполнения карточки тендеров. При создании сценария нужно добавить и настроить компоненты следующим образом:&#x20;

![](<../../../.gitbook/assets/8 (1) (1) (1).png>)

Для того чтобы реализовать данный сценарий в системе нужно изменить следующие компоненты:

**3.2.2.1. Компонент «noticeNumber & noticeNumberLength»**

Требуется изменить компонент **«noticeNumber & noticeNumberLength»:**

![](<../../../.gitbook/assets/9 (6).png>)

В переменных noticeNumber и noticeNumberLength лежит значение поля «Номер» из каталога «Торги».

**3.2.2.2. Компонент «Ищем контакт»**

Требуется изменить компонент **«Ищем контакт»:**

![](<../../../.gitbook/assets/10 (2) (1).png>)

В фильтре изменить значение 3 на API ID поля «Телефон» в каталоге «Контактные лица».

**3.2.2.3. Компонент «Создаем контакт»**

Требуется изменить компонент **«Создаем контакт»:**

![](<../../../.gitbook/assets/11 (1) (3).png>)

В значение полей изменить значения с 2, 3, 4 на API ID полей «ФИО», «Телефон», «Эл. адрес» в каталоге «Контактные лица».

**3.2.2.4. Компонент «Ищем заказчика»**

Требуется изменить компонент **«Ищем заказчика»:**

![](<../../../.gitbook/assets/12 (1) (1).png>)

В фильтре изменить значение 10 на API ID поля «ИНН» в каталоге «Заказчики».

**3.2.2.5. Компонент «Создаем заказчика»**

Требуется изменить компонент **«Создаем заказчика»:**

![](<../../../.gitbook/assets/13 (3).png>)

В значение полей изменить значения с 11, 10, 4, 17 на API ID полей «Полное наименование», «ИНН», «Основной контакт», «Ответственный» в каталоге «Заказчики»

**3.2.2.6. Компонент «$body»**

Требуется изменить компонент **«$body»:**

![](<../../../.gitbook/assets/14 (4).png>)

В значение полей изменить значения с 57, 37, 47, 2, 3, 4, 13, 44, 46, 9, 56, 21, 55, 50, 17 на API ID полей «Заказчик», «Ссылка на тендер», «ФЗ», «Дата окончания подачи заявки / предложения», «Дата проведения процедуры / подведение итогов», «Документы», «Начальная цена», «Обеспечение заявки», «Процедура», «Площадка», «Конечная цена», «Процент снижения», «Срок поставки», «Адрес», «Ответственный» в каталоге «Торги».

Добавляем созданный сценарий в поле «Выполнить» в карточке события созданного в пункте 3.2.1.

![](<../../../.gitbook/assets/15 (2) (1).png>)

## 4. Тестирование

Тестирование функционала происходит следующим образом. Вводим номер тендера в поле «Номер» в карточке из каталога «Торги»:

![](<../../../.gitbook/assets/16 (2).png>)

Проверяем заполнились ли поля в карточке:

![](<../../../.gitbook/assets/17 (1) (1) (1).png>)
